#### Thinking 1: 什么是近似最近邻查找，常用的方法有哪些

近似最邻近查找（ANN - Approximate Nearest Neighbour）是在牺牲可接受范围内的精度的情况下，查找离目标数据最近的部分数据，达到提高检索效率的效果。常用方法是局部敏感哈希LSH和MinHash



#### Thinking 2：为什么两个集合的minhash值相同的概率等于这两个集合的Jaccard相似度

Jaccard相似度，即交并比，通过计算两文档相同的部分和两文档的并集，比较两文档间的相似度。而minhash则是先通过随机多次打乱行号后、每次以第一个出现有效值的行号，得到本次签名，以交并比的方式对比每列的相似度。

- 通过公式理解：假设x就是两列的值都是1，y则是两列的值不同，都为0的不考虑。

$$
Jaccard Sim(S1, S2) = \frac{x}{x+y}
$$

- 可以理解成当文档有x+y行的情况下，出现x的概率为 x/(x+y)，那么当出现x的时候，就一定会有minhash(S1) = minhash(S2)。当出现y的情况，则是minhash(S1) ≠ minhas(S2)
- 综上，minhash(S1) = minhash(S2)的概率就是Jaccard相似度。不过，计算签名矩阵之间的相似度，其实只是对交并比相似度的估计而已，并不完全准确。



#### Thinking 3：SimHash在计算文档相似度的作用是怎样的？

- SimHash的本质是通过把高维特征向量映射到一个定长向量（32或者64位二进制，根据数据集大小而定），并计算向量间的汉明距离判断文本间是否相似。汉明距离越小的相似度越高。
- 计算过程：
  - 确定位数，初始化
  - 提取文本前n个重要特征，并通过hash计算各个文本的hashcode
  - 再针对hashcode的每一位设置权重（一般通过频率）
  - 最后计算SimHash，如果该位大于1就是1，否则是0

*注：汉明距离（Hamming）定义，两个二进制字符串中不同位数的数量，比如有3位不同距离就是3



#### Thinking 4：为什么YouTube采用期望观看时间作为评估指标

CTR指标对于视频搜索具有一定的欺骗性，所以YouTube提出采用期望观看时间作为评估指标



#### Thinking 5：为什么YouTube在排序阶段没有采用经典的LR（逻辑回归）当作输出层，而是采用了Weighted  Logistic Regression？

观看时长不止有0,1标签，所以采用了加权LR来模拟输出。在划分样本空间时，正样本为有点击的视频，输出值就是观看视频的时长，通过观看时间赋权；负样本为无点击视频，输出是单位权值1，即不加劝。